# grepClone

Учебный проект: реализация утилиты поиска строк удовлетворяющих заданному шаблону(аналог UNIX-утилиты `grep`) с поддержкой различных флагов и их комбинаций, поддержкой обработки больших файлов и интеграционными/юнит тестами.
На вход можно подавать как существующий файл(ы), так и поток данных в StdIn.
!!!Приоритет контекстов: приоритет флагов A/B/C реализован по встречаемости - чем позже он указан при запуске программы в списке аргументов, тем больше у него приортитет, то есть если -С указан последним(после -А и -В), то он переписывает -А и -В своим значением.

## Возможности

Программа поддерживает:

- `-А <num>` — после каждой найденной строки дополнительно вывести N строк после неё (контекст). 
- `-В <num>` — вывести N строк до каждой найденной строки.
- `-С <num>` — вывести N строк контекста вокруг найденной строки (включает и до, и после; эквивалентно -A N -B N).
- `-с` — выводить только то количество строк, совпадающих с шаблоном (т.е. вместо самих строк — число).
- `-i` — выполняет регистронезависимую проверку строки паттерну
- `-F` — ищет строгое соответствие паттерну как строке, т.е. паттерн не используется как regexp  
- `-v` — инвертирование фильтра - т.е. все что не подходит под указанный паттерн
- `-n` — добавляет номер строки перед каждой найденной строкой, нумерация от 1

## Тестирование

В проекте есть два набора тестов:

- **unit-тесты** (`/matcher`, `/output`, `/parser`, `/processor`)  
- **integration-тесты** (`/integration`)  

Запуск всех тестов:

go test ./... -v


## Структура проекта

L2.12/
    ├── cmd/              # Управляющий код утилиты
    ├── integration/      # Интеграционные тесты
    ├── internal/         # Основной код и вспомогательные функции
        ├── matcher/      # Функция проверки строки на соответствие заданному паттерну + unit-тесты
        ├── model/        # Описание структуры контейнера опций
        ├── output/       # Функция-принтер - добавляет номер строки и/или имя файла при необходимости + unit-тесты
        ├── parser/       # Обработка переданных программе аргументов от ОС + unit-тесты
        ├── processor/    # Основная логика поиска и вставки разделителя и контекста + unit-тесты
    ├── go.mod
    ├── main.go           # Точка входа в приложение
    ├── task.md           # Описание изначальной задачи
    └── README.md